openapi: 3.0.3
info:
  title: Agent Swarm Protocol API
  description: |
    REST API specification for the Agent Swarm Protocol (A2A).
    This protocol enables peer-to-peer communication between autonomous agents.
  version: 0.1.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://{agent-domain}
    description: Agent endpoint
    variables:
      agent-domain:
        default: agent.example.com
        description: The agent's domain

tags:
  - name: Messaging
    description: Message delivery endpoints
  - name: Membership
    description: Swarm membership operations
  - name: Discovery
    description: Agent information and health

paths:
  /swarm/message:
    $ref: 'paths/message.yaml#/message'
  /swarm/join:
    $ref: 'paths/join.yaml#/join'
  /swarm/health:
    $ref: 'paths/health.yaml#/health'
  /swarm/info:
    $ref: 'paths/info.yaml#/info'

components:
  parameters:
    $ref: 'components/parameters.yaml'
  headers:
    $ref: 'components/headers.yaml'
  schemas:
    # Common types
    Sender:
      $ref: 'components/schemas-common.yaml#/Sender'
    JoinSender:
      $ref: 'components/schemas-common.yaml#/JoinSender'
    Member:
      $ref: 'components/schemas-common.yaml#/Member'
    Error:
      $ref: 'components/schemas-common.yaml#/Error'
    # Request schemas
    Message:
      $ref: 'components/schemas-requests.yaml#/Message'
    JoinRequest:
      $ref: 'components/schemas-requests.yaml#/JoinRequest'
    # Response schemas
    MessageQueuedResponse:
      $ref: 'components/schemas-responses.yaml#/MessageQueuedResponse'
    JoinAcceptedResponse:
      $ref: 'components/schemas-responses.yaml#/JoinAcceptedResponse'
    JoinPendingResponse:
      $ref: 'components/schemas-responses.yaml#/JoinPendingResponse'
    HealthResponse:
      $ref: 'components/schemas-responses.yaml#/HealthResponse'
    AgentInfo:
      $ref: 'components/schemas-responses.yaml#/AgentInfo'
